[gd_scene load_steps=20 format=3 uid="uid://c46jereoiq1gg"]

[ext_resource type="Script" path="res://scripts/Main_level_script.gd" id="1_mmoog"]
[ext_resource type="Material" uid="uid://cl8potcpjl2vh" path="res://material/metalic_shiny.tres" id="2_21uuy"]
[ext_resource type="PackedScene" uid="uid://c2h5wi5d0wwxc" path="res://prefabs/player/Player.tscn" id="3_ly2wp"]
[ext_resource type="PackedScene" uid="uid://pegiaoi4sodn" path="res://prefabs/game objects/static/death_zone.tscn" id="4_kxvt2"]
[ext_resource type="Script" path="res://scripts/Action_Listener_DEMO.gd" id="5_jv2d5"]
[ext_resource type="Script" path="res://prefabs/player/Weapon_handler_script.gd" id="6_nf4sk"]
[ext_resource type="FontFile" uid="uid://beoncmyfjl5g4" path="res://FONT/Retro Gaming.ttf" id="7_cq5fl"]
[ext_resource type="AudioStream" uid="uid://br7y536uv5o3r" path="res://sounds/pop-39222.mp3" id="8_48xhe"]
[ext_resource type="PackedScene" uid="uid://djviime4g1lhc" path="res://prefabs/game objects/interactable/ammo_create.tscn" id="9_d5psl"]
[ext_resource type="PackedScene" uid="uid://b1gu6f8hnmb1a" path="res://prefabs/game objects/static/finish_zone.tscn" id="10_lkuhy"]
[ext_resource type="PackedScene" uid="uid://bpxeqw342awpb" path="res://prefabs/game objects/UI/ui.tscn" id="11_0y0gb"]

[sub_resource type="Animation" id="Animation_lny85"]
resource_name = "Text_type"
length = 1.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RichTextLabel:visible_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}

[sub_resource type="Animation" id="Animation_2lfkb"]
resource_name = "camera_transition_90deg"

[sub_resource type="Animation" id="Animation_jlcpy"]
resource_name = "float"
length = 0.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("TextPop:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4, 0.8),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(0, 1.3, -5), Vector3(0, 1.6, -5), Vector3(0, 1.3, -5)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_i2dle"]
_data = {
"Text_type": SubResource("Animation_lny85"),
"camera_transition_90deg": SubResource("Animation_2lfkb"),
"float": SubResource("Animation_jlcpy")
}

[sub_resource type="CylinderMesh" id="CylinderMesh_6rqoy"]
lightmap_size_hint = Vector2i(17, 19)
material = ExtResource("2_21uuy")
cap_bottom = false

[sub_resource type="Animation" id="Animation_nalky"]
resource_name = "opacity"
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Random/ColorRect:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.1, 3, 4.9),
"transitions": PackedFloat32Array(1, 2.07053, 2.07053),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0.74902), Color(1, 1, 1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_tgmle"]
_data = {
"opacity": SubResource("Animation_nalky")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_fk260"]
size = Vector3(7.81587, 3.51473, 0.0397644)

[node name="Level_template" type="Node3D"]
script = ExtResource("1_mmoog")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866024, -0.433016, 0.250001, 0, 0.499998, 0.866026, -0.500003, 0.749999, -0.43301, 0, 8.72539, 0)
shadow_enabled = true

[node name="CSGBox3D" type="CSGBox3D" parent="." groups=["shootable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0115672, -9.25269)
use_collision = true
collision_layer = 6
collision_mask = 6
size = Vector3(136.504, 0.115, 73.5054)
material = ExtResource("2_21uuy")

[node name="Player" parent="." instance=ExtResource("3_ly2wp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="Death_Zone" parent="." instance=ExtResource("4_kxvt2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -71, 0)

[node name="ActionListener" type="Node3D" parent="."]
script = ExtResource("5_jv2d5")

[node name="spawn_weapon" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.520859, 0)
script = ExtResource("6_nf4sk")

[node name="CSGBox3D2" type="CSGBox3D" parent="." groups=["shootable"]]
transform = Transform3D(10, 0, 0, 0, 4, 0, 0, 0, 0.1, 0, 1.89055, -10.794)
use_collision = true
collision_layer = 6
collision_mask = 6
size = Vector3(1, 1, 46.6079)
material = ExtResource("2_21uuy")

[node name="CSGBox3D4" type="CSGBox3D" parent="." groups=["shootable"]]
transform = Transform3D(10, 0, 0, 0, 4, 0, 0, 0, 0.1, 0, 4.16911, -15.3457)
use_collision = true
collision_layer = 6
collision_mask = 6
size = Vector3(1, 2.13928, 46.6079)
material = ExtResource("2_21uuy")

[node name="CSGBox3D14" type="CSGBox3D" parent="."]
transform = Transform3D(10, 0, 0, 0, 4, 0, 0, 0, 0.1, 0, 6.14091, -29.473)
use_collision = true
collision_layer = 6
collision_mask = 6
size = Vector3(1, 3.12518, 46.6079)
material = ExtResource("2_21uuy")

[node name="CSGBox3D12" type="CSGBox3D" parent="." groups=["shootable"]]
transform = Transform3D(10, 0, 0, 0, 4, 0, 0, 0, 0.1, 0, 0.989371, -22.0499)
use_collision = true
collision_layer = 6
collision_mask = 6
size = Vector3(1, 1.33575, 102.93)
material = ExtResource("2_21uuy")

[node name="CSGBox3D3" type="CSGBox3D" parent="."]
transform = Transform3D(-2.26687e-06, 0, 0.1, 0, 19.545, 0, -51.86, 0, -4.37114e-09, -5, 15.0855, -6.21035)
use_collision = true
collision_layer = 6
collision_mask = 6
size = Vector3(1.19708, 1.55774, 1)
material = ExtResource("2_21uuy")

[node name="CSGBox3D9" type="CSGBox3D" parent="."]
transform = Transform3D(51.86, 0, 0, 0, 19.545, 0, 0, 0, 9.105, 0.184484, 12.0089, 12.1479)
use_collision = true
collision_layer = 6
collision_mask = 6
size = Vector3(0.190613, 0.75708, 1.02551)
material = ExtResource("2_21uuy")

[node name="CSGBox3D6" type="CSGBox3D" parent="."]
transform = Transform3D(-2.26687e-06, 0, 0.1, 0, 19.545, 0, -51.86, 0, -4.37114e-09, 5, 15.2322, -6.18661)
material_override = ExtResource("2_21uuy")
use_collision = true
collision_layer = 6
collision_mask = 6
size = Vector3(1.19617, 1.57275, 1)

[node name="CSGBox3D8" type="CSGBox3D" parent="."]
transform = Transform3D(51.86, 0, 0, 0, 19.545, 0, 0, 0, 0.1, 0.128787, 9.51571, 24.7509)
use_collision = true
collision_layer = 6
collision_mask = 6
size = Vector3(0.206635, 0.987793, 1)
material = ExtResource("2_21uuy")

[node name="CSGBox3D13" type="CSGBox3D" parent="."]
transform = Transform3D(51.86, 0, 0, 0, 19.545, 0, 0, 0, 0.1, 0.129, 12.6057, -37.089)
use_collision = true
collision_layer = 6
collision_mask = 6
size = Vector3(0.206635, 1.30396, 1)
material = ExtResource("2_21uuy")

[node name="CSGBox3D10" type="CSGBox3D" parent="."]
transform = Transform3D(51.86, 0, 0, 0, 19.545, 0, 0, 0, 0.1, -10.5973, 7, 10)
use_collision = true
collision_layer = 6
collision_mask = 6
size = Vector3(0.191601, 0.738525, 1)
material = ExtResource("2_21uuy")

[node name="CSGBox3D5" type="CSGBox3D" parent="."]
transform = Transform3D(-6.55671e-07, 10.44, -4.37114e-09, 0, -4.56347e-07, -0.1, -15, -4.56347e-07, 1.91069e-16, 0.0479411, 9.93796, 8.46122)
use_collision = true
collision_layer = 0
collision_mask = 0
size = Vector3(2.27588, 1, 1)
material = ExtResource("2_21uuy")

[node name="CSGBox3D11" type="CSGBox3D" parent="."]
transform = Transform3D(-6.55671e-07, 10.44, -4.37114e-09, 0, -4.56347e-07, -0.1, -15, -4.56347e-07, 1.91069e-16, 0.0479409, 25.1616, -15.1279)
use_collision = true
collision_layer = 0
collision_mask = 0
size = Vector3(2.95465, 1, 1)
material = ExtResource("2_21uuy")

[node name="CSGBox3D7" type="CSGBox3D" parent="."]
transform = Transform3D(-4.37114e-08, 10.44, -4.37114e-09, 0, -4.56347e-07, -0.1, -1, -4.56347e-07, 1.91069e-16, 0.0480002, 17.452, -8.646)
use_collision = true
collision_layer = 0
collision_mask = 0
size = Vector3(0.09375, 1, 151.203)
material = ExtResource("2_21uuy")

[node name="TextPop" type="Label3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3, -5)
billboard = 1
double_sided = false
outline_modulate = Color(1, 0, 0, 1)
font = ExtResource("7_cq5fl")
font_size = 70

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="TextPop"]
stream = ExtResource("8_48xhe")
autoplay = true
mix_target = 1

[node name="Floating_animation" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_i2dle")
}
autoplay = "Text_type"

[node name="Random" type="Node3D" parent="."]

[node name="AmmoCreate" parent="Random" instance=ExtResource("9_d5psl")]
transform = Transform3D(1, 0, 4.46638e-06, 0, 1, 0, -4.46638e-06, 0, 1, 0, 0, 0)
ammoValue = 1500

[node name="Timer" type="Timer" parent="Random"]
wait_time = 4.0

[node name="orb" type="Node3D" parent="Random"]

[node name="Finish_Zone" parent="Random" instance=ExtResource("10_lkuhy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.11619, 5.14031, -33.7273)

[node name="ColorRect" type="ColorRect" parent="Random"]
modulate = Color(1, 1, 1, 0.757674)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="CSGMesh3D" type="CSGMesh3D" parent="."]
transform = Transform3D(7, 0, 0, 0, 50, 0, 0, 0, 7, 0, 56.723, 20.34)
material_override = ExtResource("2_21uuy")
cast_shadow = 0
collision_layer = 6
collision_mask = 6
flip_faces = true
mesh = SubResource("CylinderMesh_6rqoy")
material = ExtResource("2_21uuy")

[node name="RichTextLabel" type="RichTextLabel" parent="."]
offset_left = 6.0
offset_top = 714.0
offset_right = 418.0
offset_bottom = 1075.0
theme_override_fonts/normal_font = ExtResource("7_cq5fl")
theme_override_font_sizes/normal_font_size = 35
scroll_active = false
visible_characters = 0
visible_ratio = 0.0

[node name="UI" parent="." instance=ExtResource("11_0y0gb")]

[node name="AnimationPlayerNode" type="AnimationPlayer" parent="."]
root_node = NodePath("../UI")
libraries = {
"": SubResource("AnimationLibrary_tgmle")
}

[node name="Area3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1.80767, 1)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.2882, 1.10073, 6.10767)
shape = SubResource("BoxShape3D_fk260")

[connection signal="player_shot_fired" from="Player" to="." method="_on_player_player_shot_fired"]
[connection signal="body_entered" from="Death_Zone" to="." method="_on_death_zone_body_entered"]
